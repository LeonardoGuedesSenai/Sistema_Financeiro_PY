<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Controle Financeiro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='style_login.css') }}">
</head>

<body>
  <!-- Mostrar mensagens de flash -->
  <div style="padding: 1.5rem; max-width: 900px; margin: 0 auto;">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div
      style="padding: 1rem; margin-bottom: 1rem; border-radius: 0.35rem; 
                        background: {% if category == 'error' %}rgba(239, 68, 68, 0.1){% elif category == 'success' %}rgba(34, 197, 94, 0.1){% else %}rgba(251, 191, 36, 0.1){% endif %};
                        color: {% if category == 'error' %} #ef4444{% elif category == 'success' %} #22c55e{% else %} #fbbf24{% endif %};
                        border: 1px solid {% if category == 'error' %} #ef4444{% elif category == 'success' %} #22c55e{% else %} #fbbf24{% endif %};">
      {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
  </div>

  <!-- CABEÇALHO COM TÍTULO -->
  <header>
    <h1>Sistema de Controle Financeiro</h1>
    <p>Gerencie suas finanças pessoais com segurança</p>
  </header>

  <!-- MAIN COM FORMULÁRIOS -->
  <main>
    <div id="Corpo_Do_Formulario">

      <!-- LOGIN -->
      <form action="{{ url_for('login') }}" method="post" id="Entrar_Na_Conta">
        <h2>Entrar</h2>

        <label for="Email_Valido">Email</label>
        <input type="email" name="Email_Valido" id="Email_Valido" placeholder="seu@email.com" required>

        <label for="Senha_Valida">Senha</label>
        <input type="password" name="Senha_Valida" id="Senha_Valida" placeholder="Digite sua senha" required>

        <button type="submit">CONFIRMAR</button>
      </form>

      <button type="button" id="se_cadastrar" onclick="INSERIRoEMAIL('add')">Ainda não tenho uma conta</button>

      <!-- CADASTRO -->
      <form action="{{ url_for('register') }}" id="Cadastrar_Conta" method="POST">
        <h2>Criar Conta</h2>
        <p class="linha_branca"></p>
        <p>Insira as informações abaixo para se cadastrar</p>

        <label for="Cadastrando_Email">Email</label>
        <input type="email" name="Cadastrando_Email" id="Cadastrando_Email" placeholder="seu@email.com" required>

        <label for="Cadastrando_Senha">Senha</label>
        <input type="password" name="Cadastrando_Senha" id="Cadastrando_Senha" placeholder="Digite sua senha" required>

        <label for="Confirmando_Senha">Repetir Senha</label>
        <input type="password" name="Confirmando_Senha" id="Confirmando_Senha" placeholder="Confirme sua senha"
          required>

        <button type="submit">CONFIRMAR</button>
      </form>

    </div>
  </main>

  <!-- SCRIPTS -->
  <script>
    function INSERIRoEMAIL(tipo) {
      const add = document.getElementById("Cadastrar_Conta");
      add.classList.add("mostrar");
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXKBmnVDxMD2scQbITxI" crossorigin="anonymous"></script>

</body>

</html>